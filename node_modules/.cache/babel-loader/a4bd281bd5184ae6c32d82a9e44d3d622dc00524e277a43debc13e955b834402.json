{"ast":null,"code":"export default {\n  methods: {\n    // 是否需要弹登录确认框\n    // (1) 需要，返回 true，并直接弹出登录确认框\n    // (2) 不需要，返回 false\n    loginConfirm() {\n      if (!this.$store.getters.token) {\n        this.$dialog.confirm({\n          title: '温馨提示',\n          message: '此时需要先登录才能继续操作哦',\n          confirmButtonText: '去登陆',\n          cancelButtonText: '再逛逛'\n        }).then(() => {\n          // 如果希望，跳转到登录 => 登录后能回跳回来，需要在跳转去携带参数 (当前的路径地址)\n          // this.$route.fullPath (会包含查询参数)\n          this.$router.replace({\n            path: '/login',\n            query: {\n              backUrl: this.$route.fullPath\n            }\n          });\n        }).catch(() => {});\n        return true;\n      }\n      return false;\n    }\n  }\n};","map":{"version":3,"names":["methods","loginConfirm","$store","getters","token","$dialog","confirm","title","message","confirmButtonText","cancelButtonText","then","$router","replace","path","query","backUrl","$route","fullPath","catch"],"sources":["D:/WebData/VUE/VUE/VUE2/shopping-mode/shopping/src/mixins/loginConfirm.js"],"sourcesContent":["export default {\r\n  methods: {\r\n    // 是否需要弹登录确认框\r\n    // (1) 需要，返回 true，并直接弹出登录确认框\r\n    // (2) 不需要，返回 false\r\n    loginConfirm () {\r\n      if (!this.$store.getters.token) {\r\n        this.$dialog.confirm({\r\n          title: '温馨提示',\r\n          message: '此时需要先登录才能继续操作哦',\r\n          confirmButtonText: '去登陆',\r\n          cancelButtonText: '再逛逛'\r\n        })\r\n          .then(() => {\r\n            // 如果希望，跳转到登录 => 登录后能回跳回来，需要在跳转去携带参数 (当前的路径地址)\r\n            // this.$route.fullPath (会包含查询参数)\r\n            this.$router.replace({\r\n              path: '/login',\r\n              query: {\r\n                backUrl: this.$route.fullPath\r\n              }\r\n            })\r\n          })\r\n          .catch(() => {})\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,eAAe;EACbA,OAAO,EAAE;IACP;IACA;IACA;IACAC,YAAYA,CAAA,EAAI;MACd,IAAI,CAAC,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,KAAK,EAAE;QAC9B,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;UACnBC,KAAK,EAAE,MAAM;UACbC,OAAO,EAAE,gBAAgB;UACzBC,iBAAiB,EAAE,KAAK;UACxBC,gBAAgB,EAAE;QACpB,CAAC,CAAC,CACCC,IAAI,CAAC,MAAM;UACV;UACA;UACA,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;YACnBC,IAAI,EAAE,QAAQ;YACdC,KAAK,EAAE;cACLC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC;YACvB;UACF,CAAC,CAAC;QACJ,CAAC,CAAC,CACDC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;QAClB,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}