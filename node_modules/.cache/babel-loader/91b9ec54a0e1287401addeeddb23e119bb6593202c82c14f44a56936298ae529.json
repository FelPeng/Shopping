{"ast":null,"code":"import { getMyOrderList } from '@/api/order';\nimport OrderListItem from '@/components/OrderListItem.vue';\nexport default {\n  props: {\n    item: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  name: 'OrderPage',\n  components: {\n    OrderListItem\n  },\n  data() {\n    return {\n      active: this.$route.query.dataType || 'all',\n      page: 1,\n      list: []\n    };\n  },\n  methods: {\n    async getOrderList() {\n      const {\n        data: {\n          list\n        }\n      } = await getMyOrderList(this.active, this.page);\n      list.data.forEach(item => {\n        item.total_num = 0;\n        item.goods.forEach(goods => {\n          item.total_num += goods.total_num;\n        });\n      });\n      this.list = list.data;\n    }\n  },\n  watch: {\n    active: {\n      immediate: true,\n      handler() {\n        this.getOrderList();\n      }\n    }\n  }\n};","map":{"version":3,"names":["getMyOrderList","OrderListItem","props","item","type","Object","default","name","components","data","active","$route","query","dataType","page","list","methods","getOrderList","forEach","total_num","goods","watch","immediate","handler"],"sources":["src/views/myorder/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <van-nav-bar title=\"我的订单\" left-arrow @click-left=\"$router.go(-1)\" />\r\n    <van-tabs v-model=\"active\" sticky>\r\n      <van-tab name=\"all\" title=\"全部\"></van-tab>\r\n      <van-tab name=\"payment\" title=\"待支付\"></van-tab>\r\n      <van-tab name=\"delivery\" title=\"待发货\"></van-tab>\r\n      <van-tab name=\"received\" title=\"待收货\"></van-tab>\r\n      <van-tab name=\"comment\" title=\"待评价\"></van-tab>\r\n    </van-tabs>\r\n\r\n    <OrderListItem></OrderListItem>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMyOrderList } from '@/api/order'\r\nimport OrderListItem from '@/components/OrderListItem.vue'\r\nexport default {\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  name: 'OrderPage',\r\n  components: {\r\n    OrderListItem\r\n  },\r\n  data () {\r\n    return {\r\n      active: this.$route.query.dataType || 'all',\r\n      page: 1,\r\n      list: []\r\n    }\r\n  },\r\n  methods: {\r\n    async getOrderList () {\r\n      const { data: { list } } = await getMyOrderList(this.active, this.page)\r\n      list.data.forEach((item) => {\r\n        item.total_num = 0\r\n        item.goods.forEach(goods => {\r\n          item.total_num += goods.total_num\r\n        })\r\n      })\r\n      this.list = list.data\r\n    }\r\n  },\r\n  watch: {\r\n    active: {\r\n      immediate: true,\r\n      handler () {\r\n        this.getOrderList()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order {\r\n  background-color: #fafafa;\r\n}\r\n.van-tabs {\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n</style>\r\n"],"mappings":"AAgBA,SAAAA,cAAA;AACA,OAAAC,aAAA;AACA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACA;MACA;IACA;EACA;EACAC,IAAA;EACAC,UAAA;IACAP;EACA;EACAQ,KAAA;IACA;MACAC,MAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA;MACAC,IAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,aAAA;MACA;QAAAR,IAAA;UAAAM;QAAA;MAAA,UAAAf,cAAA,MAAAU,MAAA,OAAAI,IAAA;MACAC,IAAA,CAAAN,IAAA,CAAAS,OAAA,CAAAf,IAAA;QACAA,IAAA,CAAAgB,SAAA;QACAhB,IAAA,CAAAiB,KAAA,CAAAF,OAAA,CAAAE,KAAA;UACAjB,IAAA,CAAAgB,SAAA,IAAAC,KAAA,CAAAD,SAAA;QACA;MACA;MACA,KAAAJ,IAAA,GAAAA,IAAA,CAAAN,IAAA;IACA;EACA;EACAY,KAAA;IACAX,MAAA;MACAY,SAAA;MACAC,QAAA;QACA,KAAAN,YAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}