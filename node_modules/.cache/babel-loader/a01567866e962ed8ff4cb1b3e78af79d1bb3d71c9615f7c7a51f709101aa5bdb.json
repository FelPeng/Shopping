{"ast":null,"code":"import { getCartList } from '@/api/cart';\nexport default {\n  namespaced: true,\n  state() {\n    return {\n      cartList: []\n    };\n  },\n  mutations: {\n    // 提供一个设置cartList 的mutation\n    setCartList(state, newList) {\n      state.cartList = newList;\n    }\n  },\n  actions: {\n    async getCartAction(context) {\n      const {\n        data\n      } = await getCartList();\n      //   后台返回的数据中,不包含复选框选中状态,为了实现将来的功能\n      // 后台手动维护数据,给每一项,添加一个isChencked转态\n      data.list.forEach(item => {\n        item.ischecked = true;\n      });\n      context.commit('setCartList', data.list);\n    }\n  },\n  getters: {\n    // 获取商品总数\n    cartTotal(state) {\n      return state.cartList.reduce((sum, item) => {\n        sum += item.goods_num;\n        return sum;\n      }, 0);\n    },\n    // 选中商品的列表\n    selCartList(state) {\n      return state.cartList.filter(item => {\n        return item.ischecked;\n      });\n    },\n    // 选中的商品总数\n    // 如果想要使用 getters中的其它数据可以在函数的形参位置使用getters,然后在语句中使用getters.XXX就能获取到数据.\n    selCount(getters) {\n      return getters.selCartList.reduce((sum, item) => sum + item.goods_num, 0);\n    },\n    // 选中商品总价\n    selPrice(getters) {\n      return getters.selCartList.reduce((num, item) => {\n        return sum + item.goods_num.item.goods.goods_price_min;\n      }, 0);\n    }\n  }\n};","map":{"version":3,"names":["getCartList","namespaced","state","cartList","mutations","setCartList","newList","actions","getCartAction","context","data","list","forEach","item","ischecked","commit","getters","cartTotal","reduce","sum","goods_num","selCartList","filter","selCount","selPrice","num","goods","goods_price_min"],"sources":["E:/文档/VUE/VUE2/shopping-mode/shopping/src/store/modules/cart.js"],"sourcesContent":["import { getCartList } from '@/api/cart'\r\nexport default {\r\n  namespaced: true,\r\n  state () {\r\n    return {\r\n      cartList: []\r\n    }\r\n  },\r\n  mutations: {\r\n    // 提供一个设置cartList 的mutation\r\n    setCartList (state, newList) {\r\n      state.cartList = newList\r\n    }\r\n  },\r\n  actions: {\r\n    async getCartAction (context) {\r\n      const { data } = await getCartList()\r\n      //   后台返回的数据中,不包含复选框选中状态,为了实现将来的功能\r\n      // 后台手动维护数据,给每一项,添加一个isChencked转态\r\n      data.list.forEach(item => {\r\n        item.ischecked = true\r\n      })\r\n      context.commit('setCartList', data.list)\r\n    }\r\n\r\n  },\r\n  getters: {\r\n    // 获取商品总数\r\n    cartTotal (state) {\r\n      return state.cartList.reduce((sum, item) => {\r\n        sum += item.goods_num\r\n        return sum\r\n      }, 0)\r\n    },\r\n    // 选中商品的列表\r\n    selCartList (state) {\r\n      return state.cartList.filter(item => {\r\n        return item.ischecked\r\n      })\r\n    },\r\n    // 选中的商品总数\r\n    // 如果想要使用 getters中的其它数据可以在函数的形参位置使用getters,然后在语句中使用getters.XXX就能获取到数据.\r\n    selCount (getters) {\r\n      return getters.selCartList.reduce((sum, item) => sum + item.goods_num, 0)\r\n    },\r\n    // 选中商品总价\r\n    selPrice (getters) {\r\n      return getters.selCartList.reduce((num, item) => {\r\n        return sum + item.goods_num.item.goods.goods_price_min\r\n      }, 0)\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,YAAY;AACxC,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAKA,CAAA,EAAI;IACP,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACT;IACAC,WAAWA,CAAEH,KAAK,EAAEI,OAAO,EAAE;MAC3BJ,KAAK,CAACC,QAAQ,GAAGG,OAAO;IAC1B;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAEC,OAAO,EAAE;MAC5B,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMV,WAAW,CAAC,CAAC;MACpC;MACA;MACAU,IAAI,CAACC,IAAI,CAACC,OAAO,CAACC,IAAI,IAAI;QACxBA,IAAI,CAACC,SAAS,GAAG,IAAI;MACvB,CAAC,CAAC;MACFL,OAAO,CAACM,MAAM,CAAC,aAAa,EAAEL,IAAI,CAACC,IAAI,CAAC;IAC1C;EAEF,CAAC;EACDK,OAAO,EAAE;IACP;IACAC,SAASA,CAAEf,KAAK,EAAE;MAChB,OAAOA,KAAK,CAACC,QAAQ,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEN,IAAI,KAAK;QAC1CM,GAAG,IAAIN,IAAI,CAACO,SAAS;QACrB,OAAOD,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC;IACP,CAAC;IACD;IACAE,WAAWA,CAAEnB,KAAK,EAAE;MAClB,OAAOA,KAAK,CAACC,QAAQ,CAACmB,MAAM,CAACT,IAAI,IAAI;QACnC,OAAOA,IAAI,CAACC,SAAS;MACvB,CAAC,CAAC;IACJ,CAAC;IACD;IACA;IACAS,QAAQA,CAAEP,OAAO,EAAE;MACjB,OAAOA,OAAO,CAACK,WAAW,CAACH,MAAM,CAAC,CAACC,GAAG,EAAEN,IAAI,KAAKM,GAAG,GAAGN,IAAI,CAACO,SAAS,EAAE,CAAC,CAAC;IAC3E,CAAC;IACD;IACAI,QAAQA,CAAER,OAAO,EAAE;MACjB,OAAOA,OAAO,CAACK,WAAW,CAACH,MAAM,CAAC,CAACO,GAAG,EAAEZ,IAAI,KAAK;QAC/C,OAAOM,GAAG,GAAGN,IAAI,CAACO,SAAS,CAACP,IAAI,CAACa,KAAK,CAACC,eAAe;MACxD,CAAC,EAAE,CAAC,CAAC;IACP;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}